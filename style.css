*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:'Segoe UI',Tahoma,sans-serif;
  background:linear-gradient(135deg,#161e2f 0%,#080d19 100%);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  color:#111827;
  touch-action:pan-y;
}
.app{
  width:100%;
  max-width:600px;
  height:95vh;
  background:#020617;
  border-radius:18px;
  overflow:hidden;
  box-shadow:0 12px 35px rgba(0,0,0,0.6);
  display:flex;
  flex-direction:column;
  touch-action:pan-y;
}

/* الهيدر */
.header{
  background:#008069;
  color:#fff;
  padding:12px 14px;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.header-left{
  display:flex;
  align-items:center;
  gap:8px;
}
.header-title{
  font-weight:bold;
  font-size:16px;
}
.header-sub{
  font-size:12px;
  opacity:.9;
}
.back-btn{
  border:none;
  background:none;
  color:#fff;
  font-size:18px;
  cursor:pointer;
}

/* شاشات */
.screen{
  flex:1;
  display:none;
  flex-direction:column;
  background:#020617;
}
.screen.active{display:flex;}

/* شاشة قائمة الرومات */
.rooms-screen-body{
  flex:1;
  padding:12px;
  overflow-y:auto;
  touch-action:pan-y;
}
.create-room-btn{
  width:100%;
  border:none;
  background:linear-gradient(135deg,#22c55e,#16a34a);
  color:#022c22;
  padding:12px 10px;
  border-radius:14px;
  font-size:15px;
  font-weight:600;
  display:flex;
  justify-content:space-between;
  align-items:center;
  box-shadow:0 6px 18px rgba(22,163,74,0.6);
  cursor:pointer;
  margin-bottom:10px;
}
.create-room-btn span{
  display:flex;
  align-items:center;
  gap:8px;
}

.filters-row{
  display:flex;
  gap:6px;
  overflow-x:auto;
  padding-bottom:6px;
  margin-bottom:10px;
}
.filter-chip{
  border:none;
  font-size:12px;
  padding:6px 10px;
  border-radius:999px;
  background:#020617;
  color:#e5e7eb;
  border:1px solid #4b5563;
  cursor:pointer;
  white-space:nowrap;
}
.filter-chip.active{
  background:#10b981;
  color:#022c22;
  border-color:#10b981;
}

.section-title{
  font-size:13px;
  color:#9ca3af;
  margin:4px 2px 6px;
}

/* بطاقة روم – ستايل Clubhouse */
.room-card{
  background:#020617;
  border-radius:16px;
  padding:10px 10px 8px;
  margin-bottom:10px;
  border:1px solid #111827;
  cursor:pointer;
  transition:transform .12s,box-shadow .12s,border-color .12s,background .12s;
}
.room-card:hover{
  transform:translateY(-2px);
  box-shadow:0 10px 24px rgba(0,0,0,0.7);
  border-color:#22c55e;
  background:#030712;
}
.room-top-row{
  display:flex;
  align-items:flex-start;
  gap:10px;
}
.room-icon-wrap{
  flex-shrink:0;
}
.room-icon-circle{
  width:46px;
  height:46px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#f9fafb;
  font-size:22px;
  box-shadow:0 4px 15px rgba(0,0,0,0.7);
}
.room-icon-t3arof{
  background:radial-gradient(circle at top,#fb7185,#db2777,#9d174d);
}
.room-icon-games{
  background:radial-gradient(circle at top,#38bdf8,#0ea5e9,#0369a1);
}
.room-icon-swalif{
  background:radial-gradient(circle at top,#a855f7,#7c3aed,#4c1d95);
}
.room-icon-friends{
  background:radial-gradient(circle at top,#4ade80,#22c55e,#15803d);
}
.room-icon-notify{
  background:radial-gradient(circle at top,#f97316,#ea580c,#9a3412);
}
.room-icon-funny{
  background:radial-gradient(circle at top,#facc15,#eab308,#a16207);
}

.room-main-info{
  flex:1;
  display:flex;
  flex-direction:column;
  gap:4px;
}
.room-name{
  font-size:14px;
  font-weight:600;
  color:#f9fafb;
}
.room-desc{
  font-size:11px;
  color:#9ca3af;
}

.room-side-meta{
  display:flex;
  flex-direction:column;
  align-items:flex-end;
  gap:4px;
  font-size:11px;
  color:#9ca3af;
}
.badge{
  padding:3px 8px;
  border-radius:999px;
  font-size:10px;
  border:1px solid #4b5563;
}
.badge-public{
  border-color:#22c55e;
  color:#bbf7d0;
  background:#022c22;
}
.badge-locked{
  border-color:#f97316;
  color:#fed7aa;
  background:#451a03;
}

/* صف أعضاء مصغّر مثل Clubhouse */
.room-members-row{
  margin-top:8px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
}
.members-avatars{
  display:flex;
  align-items:center;
  gap:4px;
}
.member-avatar{
  width:26px;
  height:26px;
  border-radius:50%;
  background:#111827;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#e5e7eb;
  font-size:12px;
  border:1px solid #4b5563;
  box-shadow:0 2px 6px rgba(0,0,0,0.7);
}
.member-more{
  font-size:11px;
  color:#9ca3af;
}
.room-stats{
  font-size:11px;
  color:#9ca3af;
  display:flex;
  align-items:center;
  gap:8px;
}
.room-stats span{
  display:flex;
  align-items:center;
  gap:4px;
}

/* داخل الروم الصوتي */
.room-inner{
  flex:1;
  display:flex;
  flex-direction:column;
  background:radial-gradient(circle at top,#0f172a,#020617 55%);
  color:#e5e7eb;
}
.room-inner-header{
  padding:10px 12px 4px;
  border-bottom:1px solid #111827;
}
.room-inner-title{
  font-size:15px;
  font-weight:600;
}
.room-inner-sub{
  font-size:11px;
  color:#9ca3af;
  margin-top:2px;
}
.pill{
  display:inline-flex;
  align-items:center;
  gap:4px;
  font-size:11px;
  color:#9ca3af;
  background:#020617;
  border-radius:999px;
  padding:4px 8px;
  border:1px solid #1f2937;
  margin-top:6px;
}

.room-inner-body{
  flex:1;
  padding:10px;
  overflow-y:auto;
  touch-action:pan-y;
  display:flex;
  flex-direction:column;
  gap:10px;
}

/* صفوف المايكات (5 فوق + 5 جوه) */
.block-label{
  font-size:13px;
  color:#9ca3af;
  margin:4px 0 6px;
}
.mics-row{
  display:grid;
  grid-template-columns:repeat(5, 1fr);
  gap:10px;
  margin-bottom:6px;
}
.mic-card{
  background:#0f172a;
  border:1px solid #1f2937;
  border-radius:12px;
  padding:6px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:6px;
  cursor:pointer;
  transition:0.15s;
}
.mic-card:hover{
  border-color:#22c55e;
  transform:translateY(-3px);
}
.mic-avatar{
  width:48px;
  height:48px;
  border-radius:50%;
  background:#1f2937;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#e5e7eb;
  font-size:17px;
  border:2px solid #4b5563;
}
.mic-name{
  color:#e5e7eb;
  font-size:12px;
  text-align:center;
  max-width:100%;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.mic-icon{
  font-size:16px;
  color:#22c55e;
}
.mic-muted-icon{
  color:#dc2626;
}

/* دردشة الروم */
.room-chat-block{
  margin-top:4px;
  border-top:1px solid #111827;
  padding-top:6px;
  display:flex;
  flex-direction:column;
  gap:6px;
}
.room-chat-messages{
  max-height:180px;
  min-height:90px;
  overflow-y:auto;
  background:#020617;
  border-radius:10px;
  border:1px solid #111827;
  padding:6px;
  font-size:11px;
  touch-action:pan-y;
}
.room-chat-message{
  margin-bottom:4px;
  line-height:1.4;
}
.room-chat-input{
  display:flex;
  align-items:center;
  gap:6px;
}
.room-chat-input input{
  flex:1;
  padding:8px 10px;
  border-radius:999px;
  border:none;
  background:#020617;
  color:#e5e7eb;
  font-size:12px;
  outline:none;
  border:1px solid #111827;
}
.room-chat-input button{
  width:40px;
  height:40px;
  border-radius:50%;
  border:none;
  background:#16a34a;
  color:#ecfdf5;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  box-shadow:0 4px 10px rgba(0,0,0,0.6);
}

/* تحكم أسفل الروم */
.room-controls{
  padding:8px 10px 10px;
  border-top:1px solid #111827;
  display:flex;
  flex-direction:column;
  gap:8px;
  background:#020617;
}
.top-controls-row{
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.mini-stats{
  font-size:11px;
  color:#9ca3af;
  display:flex;
  align-items:center;
  gap:8px;
}
.mini-stat{
  display:flex;
  align-items:center;
  gap:4px;
}
.buttons-row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:8px;
}
.round-btn{
  width:52px;
  height:52px;
  border-radius:50%;
  border:none;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:22px;
  cursor:pointer;
  box-shadow:0 6px 16px rgba(0,0,0,0.5);
  transition:transform .1s,box-shadow .1s,background .1s;
}
.round-btn.mic-on{
  background:#16a34a;
  color:#ecfdf5;
}
.round-btn.mic-muted{
  background:#991b1b;
  color:#fee2e2;
}
.round-btn.leave{
  background:#f97316;
  color:#fff7ed;
  width:64px;
  height:64px;
  font-size:24px;
}
.round-btn.small{
  width:42px;
  height:42px;
  font-size:18px;
}
.round-btn:active{
  transform:translateY(1px);
  box-shadow:0 3px 10px rgba(0,0,0,0.4);
}
.bottom-hint{
  font-size:10px;
  color:#6b7280;
  text-align:center;
}

/* مودال المراسلة الخاصة */
.dm-modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.7);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:9999;
}
.dm-box{
  background:#020617;
  border-radius:14px;
  border:1px solid #1f2937;
  padding:14px;
  width:90%;
  max-width:360px;
  color:#e5e7eb;
  box-shadow:0 12px 30px rgba(0,0,0,0.8);
}
.dm-title{
  font-size:14px;
  font-weight:600;
  margin-bottom:4px;
}
.dm-user{
  font-size:13px;
  color:#a5b4fc;
  margin-bottom:8px;
}
.dm-box textarea{
  width:100%;
  min-height:80px;
  resize:none;
  border-radius:8px;
  border:1px solid #111827;
  background:#020617;
  color:#e5e7eb;
  padding:8px;
  font-size:12px;
  outline:none;
}
.dm-actions{
  margin-top:8px;
  display:flex;
  justify-content:flex-end;
  gap:6px;
}
.dm-actions button{
  border:none;
  padding:6px 10px;
  border-radius:999px;
  font-size:12px;
  cursor:pointer;
}
.dm-actions button:first-child{
  background:#111827;
  color:#e5e7eb;
}
.dm-send-btn{
  background:#16a34a;
  color:#ecfdf5;
}

/* سكروول */
::-webkit-scrollbar{width:6px}
::-webkit-scrollbar-track{background:#020617}
::-webkit-scrollbar-thumb{background:#4b5563;border-radius:999px}
